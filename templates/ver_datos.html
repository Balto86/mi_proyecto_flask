{% extends 'base.html' %}

{% block title %}Ver Datos Almacenados{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">Datos Almacenados</h2>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-700 mb-4">Formatos de Archivo</h3>
            
            <div class="space-y-4">
                <div>
                    <h4 class="font-medium text-gray-600">Datos en TXT</h4>
                    <a href="{{ url_for('api_datos_txt') }}" 
                       class="text-blue-500 hover:underline mr-3">Ver datos</a>
                    <a href="{{ url_for('descargar_datos', formato='txt') }}" 
                       class="text-green-500 hover:underline">Descargar</a>
                </div>
                
                <div>
                    <h4 class="font-medium text-gray-600">Datos en JSON</h4>
                    <a href="{{ url_for('api_datos_json') }}" 
                       class="text-blue-500 hover:underline mr-3">Ver datos</a>
                    <a href="{{ url_for('descargar_datos', formato='json') }}" 
                       class="text-green-500 hover:underline">Descargar</a>
                </div>
                
                <div>
                    <h4 class="font-medium text-gray-600">Datos en CSV</h4>
                    <a href="{{ url_for('api_datos_csv') }}" 
                       class="text-blue-500 hover:underline mr-3">Ver datos</a>
                    <a href="{{ url_for('descargar_datos', formato='csv') }}" 
                       class="text-green-500 hover:underline">Descargar</a>
                </div>
            </div>
        </div>
        
        <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-xl font-semibold text-gray-700 mb-4">Base de Datos SQLite</h3>
            
            <div class="mb-4">
                <a href="{{ url_for('api_datos_db') }}" 
                   class="text-blue-500 hover:underline mr-3">Ver datos JSON</a>
            </div>
            
            <h4 class="font-medium text-gray-600 mb-2">Usuarios registrados:</h4>
            {% if usuarios %}
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white">
                        <thead>
                            <tr>
                                <th class="py-2 px-4 border-b">ID</th>
                                <th class="py-2 px-4 border-b">Nombre</th>
                                <th class="py-2 px-4 border-b">Email</th>
                                <th class="py-2 px-4 border-b">Edad</th>
                                <th class="py-2 px-4 border-b">Pa√≠s</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for usuario in usuarios %}
                            <tr>
                                <td class="py-2 px-4 border-b">{{ usuario[0] }}</td>
                                <td class="py-2 px-4 border-b">{{ usuario[1] }}</td>
                                <td class="py-2 px-4 border-b">{{ usuario[2] }}</td>
                                <td class="py-2 px-4 border-b">{{ usuario[3] }}</td>
                                <td class="py-2 px-4 border-b">{{ usuario[4] }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <p class="text-gray-500">No hay usuarios registrados.</p>
            {% endif %}
        </div>
    </div>
    
    <div class="text-center">
        <a href="{{ url_for('index') }}" 
           class="px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition duration-300">
            Volver al Formulario
        </a>
    </div>
</div>
{% endblock %}